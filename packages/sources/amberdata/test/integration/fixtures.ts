import nock from 'nock'

export function mockCryptoEndpoint() {
  nock('https://web3api.io:443', { encodedQueryParams: true })
    .get('/api/v2/market/spot/prices/pairs/eth_btc/latest')
    .query({ includeCrossRates: 'true' })
    .reply(
      200,
      {
        status: 200,
        title: 'OK',
        description: 'Successful request',
        payload: {
          timestamp: 1635171720000,
          pair: 'eth_btc',
          price: '0.06567038',
          volume: '19.40889537',
        },
      },
      [
        'Content-Type',
        'application/json; charset=utf-8',
        'Content-Length',
        '161',
        'Connection',
        'close',
        'Date',
        'Mon, 25 Oct 2021 14:24:47 GMT',
        'x-amzn-RequestId',
        '6b5118c2-b915-4291-ad66-6079ab06443a',
        'Access-Control-Allow-Origin',
        '*',
        'X-Response-Time',
        '382.339ms',
        'x-amzn-Remapped-Content-Length',
        '161',
        'x-amzn-Remapped-Connection',
        'keep-alive',
        'Set-Cookie',
        'AWSALB=hG1mDBRonU0WtlkzWLKvseizX+l04AEGfhNx+azUUjQmc6qGKjItwQtUsbkhaZ9k+HeC72nL3Qao52rQNCyrsMMFvEE1XnQl+5f2XtjL0ISSJxCTA5wBW1O3UDP4; Expires=Mon, 01 Nov 2021 14:24:47 GMT; Path=/',
        'Set-Cookie',
        'AWSALBCORS=hG1mDBRonU0WtlkzWLKvseizX+l04AEGfhNx+azUUjQmc6qGKjItwQtUsbkhaZ9k+HeC72nL3Qao52rQNCyrsMMFvEE1XnQl+5f2XtjL0ISSJxCTA5wBW1O3UDP4; Expires=Mon, 01 Nov 2021 14:24:47 GMT; Path=/; SameSite=None; Secure',
        'x-amz-apigw-id',
        'HxKndH0xIAMFVRA=',
        'ETag',
        'W/"a1-b7CgNqXOtvdSh07+yR3ZEVL3SZ0"',
        'x-amzn-Remapped-Date',
        'Mon, 25 Oct 2021 14:24:47 GMT',
        'X-Cache',
        'Miss from cloudfront',
        'Via',
        '1.1 51ff0f115ee456a7012153e8567523be.cloudfront.net (CloudFront)',
        'X-Amz-Cf-Pop',
        'HIO50-C2',
        'X-Amz-Cf-Id',
        'uAMcTBf-QkP2cgnCqXvPuO0qz4I4Hd2YNQRNHewP_PqkpMi14ZItqQ==',
      ],
    )
}

export function mockBalanceEndpoint() {
  nock('https://web3api.io:443', { encodedQueryParams: true })
    .get('/api/v2/addresses/38bzm6nhQMFJe71jJw1U7CbgNrVNpkonZF/account-balances/latest')
    .reply(
      200,
      {
        status: 200,
        title: 'OK',
        description: 'Successful request',
        payload: {
          address: { address: '38bzm6nhQMFJe71jJw1U7CbgNrVNpkonZF' },
          blockchainId: '408fa195a34b533de9ad9889f076045e',
          blockNumber: '693286',
          timestampNanoseconds: 0,
          value: '2188',
          timestamp: '2021-07-29T20:54:39.000Z',
        },
      },
      [
        'Content-Type',
        'application/json; charset=utf-8',
        'Content-Length',
        '285',
        'Connection',
        'close',
        'Date',
        'Tue, 26 Oct 2021 15:28:01 GMT',
        'x-amzn-RequestId',
        '0e4cb91d-06df-4281-86c9-9effa735dd0c',
        'Access-Control-Allow-Origin',
        '*',
        'X-Response-Time',
        '25.648ms',
        'x-amzn-Remapped-Content-Length',
        '285',
        'x-amzn-Remapped-Connection',
        'keep-alive',
        'Set-Cookie',
        'AWSALB=bKIqRArtz0YYWRppt8yNVS3RcLpmCVCh5a4ty+KSTFMQWDZCvdKMWXJ3pJNjizgy0KqEg5wyAfznCOY9KQ6niv5Ek4z/sDAmlE0YkesRwtZTTPiKcWlWmfYQPdSB; Expires=Tue, 02 Nov 2021 15:28:01 GMT; Path=/',
        'Set-Cookie',
        'AWSALBCORS=bKIqRArtz0YYWRppt8yNVS3RcLpmCVCh5a4ty+KSTFMQWDZCvdKMWXJ3pJNjizgy0KqEg5wyAfznCOY9KQ6niv5Ek4z/sDAmlE0YkesRwtZTTPiKcWlWmfYQPdSB; Expires=Tue, 02 Nov 2021 15:28:01 GMT; Path=/; SameSite=None; Secure',
        'x-amz-apigw-id',
        'H0m0UEWAIAMF6Hw=',
        'ETag',
        'W/"11d-9m0wDFpEzWf3toDPotW0YvCKBiQ"',
        'x-amzn-Remapped-Date',
        'Tue, 26 Oct 2021 15:28:01 GMT',
        'X-Cache',
        'Miss from cloudfront',
        'Via',
        '1.1 925e7b77d00fe09d3e904612516a8235.cloudfront.net (CloudFront)',
        'X-Amz-Cf-Pop',
        'HIO50-C2',
        'X-Amz-Cf-Id',
        'kRWMcAT8h1DtgkQEMmVmlUHvRyaNLo2eS9lSLcT8UJUijfLlxQtLOQ==',
      ],
    )

  nock('https://web3api.io:443', { encodedQueryParams: true })
    .get('/api/v2/addresses/3EyjZ6CtEZEKyc719NZMyWaJpJG5jsVJL1/account-balances/latest')
    .reply(
      200,
      {
        status: 200,
        title: 'OK',
        description: 'Successful request',
        payload: {
          address: { address: '3EyjZ6CtEZEKyc719NZMyWaJpJG5jsVJL1' },
          blockchainId: '408fa195a34b533de9ad9889f076045e',
          blockNumber: '692934',
          timestampNanoseconds: 0,
          value: '0',
          timestamp: '2021-07-27T17:18:38.000Z',
        },
      },
      [
        'Content-Type',
        'application/json; charset=utf-8',
        'Content-Length',
        '282',
        'Connection',
        'close',
        'Date',
        'Tue, 26 Oct 2021 15:28:01 GMT',
        'x-amzn-RequestId',
        'e63857bc-dfb7-493b-b3c9-159ffe947bca',
        'Access-Control-Allow-Origin',
        '*',
        'X-Response-Time',
        '30.586ms',
        'x-amzn-Remapped-Content-Length',
        '282',
        'x-amzn-Remapped-Connection',
        'keep-alive',
        'Set-Cookie',
        'AWSALB=kHnsr6FFHk+eKx2Fnj93fqmJwEhu6KkvHfS4+acpyc29k1lJ5tIWpZnKR+PVRIXzA6SRMP/9qpfdx0QVbvPr4fVjWWUZH9Sgx2Au/UfZjwEUHZv2ib00tRtGyusl; Expires=Tue, 02 Nov 2021 15:28:01 GMT; Path=/',
        'Set-Cookie',
        'AWSALBCORS=kHnsr6FFHk+eKx2Fnj93fqmJwEhu6KkvHfS4+acpyc29k1lJ5tIWpZnKR+PVRIXzA6SRMP/9qpfdx0QVbvPr4fVjWWUZH9Sgx2Au/UfZjwEUHZv2ib00tRtGyusl; Expires=Tue, 02 Nov 2021 15:28:01 GMT; Path=/; SameSite=None; Secure',
        'x-amz-apigw-id',
        'H0m0UF5moAMFoLA=',
        'ETag',
        'W/"11a-k8BfD8eQn+ln2eBXSoM3Bt0JCMk"',
        'x-amzn-Remapped-Date',
        'Tue, 26 Oct 2021 15:28:01 GMT',
        'X-Cache',
        'Miss from cloudfront',
        'Via',
        '1.1 4e4146a38d6d3f79964fdb06a05f26cf.cloudfront.net (CloudFront)',
        'X-Amz-Cf-Pop',
        'HIO50-C2',
        'X-Amz-Cf-Id',
        'TSaonj6s9RVEx3TU9JP86i6y0RsXV8F2r3i7RI3tPlvOSZtn5TcI2A==',
      ],
    )
}

export function mockMarketCapEndpoint() {
  nock('https://web3api.io:443', { encodedQueryParams: true })
    .get('/api/v2/market/tokens/prices/eth/latest')
    .reply(
      200,
      {
        status: 200,
        title: 'OK',
        description: 'Successful request',
        payload: [
          {
            address: '0x0000000000000000000000000000000000000000',
            circulatingSupply: '118070431.749',
            dailyPercentChangeUSD: '1.74435577',
            dailyVolumeUSD: '3041761.3870759335755552172',
            hourlyPercentChangeUSD: '-0.10186964',
            marketCapUSD: '490182085144.57404960',
            name: 'Ethereum',
            priceUSD: '4151.60745907',
            symbol: 'ETH',
            totalSupply: '0',
            weeklyPercentChangeUSD: '5.86339376',
            decimals: '0',
            timestamp: 1635171660000,
          },
          {
            address: null,
            circulatingSupply: '130450211.904084',
            dailyPercentChangeUSD: '1.11713832',
            dailyVolumeUSD: '3731155.3422029782460735630',
            hourlyPercentChangeUSD: '-0.19217345',
            marketCapUSD: '7227695967.14551282',
            name: 'Ethereum Classic',
            priceUSD: '55.40578173',
            symbol: 'etc',
            totalSupply: '210700000',
            weeklyPercentChangeUSD: '3.33342720',
            decimals: '0',
            timestamp: 1635171660000,
          },
          {
            address: '0x871baed4088b863fd6407159f3672d70cd34837d',
            circulatingSupply: '41714.27766728',
            dailyPercentChangeUSD: '5.16547591',
            dailyVolumeUSD: '2295.91738668127469573876',
            hourlyPercentChangeUSD: '-0.64926265',
            marketCapUSD: '88679851.27568739',
            name: 'ETHBULL',
            priceUSD: '2125.88725575',
            symbol: 'ETHBULL',
            totalSupply: '41714.27766728',
            weeklyPercentChangeUSD: '12.28121442',
            decimals: '0',
            timestamp: 1635171660000,
          },
          {
            address: '0x239b0fa917d85c21cf6435464c2c6aa3d45f6720',
            circulatingSupply: '0',
            dailyPercentChangeUSD: '5.17998876',
            dailyVolumeUSD: '49512.4313497482550886',
            hourlyPercentChangeUSD: '-0.53618155',
            marketCapUSD: '0.00000000',
            name: 'Amun Ether 3x Daily Long',
            priceUSD: '20.90408393',
            symbol: 'ETH3L',
            totalSupply: '2.1557',
            weeklyPercentChangeUSD: '14.29317454',
            decimals: '0',
            timestamp: 1635171660000,
          },
          {
            address: null,
            circulatingSupply: '0',
            dailyPercentChangeUSD: '-4.11738780',
            dailyVolumeUSD: '4755242.68',
            hourlyPercentChangeUSD: '0.51625817',
            marketCapUSD: '0.00000000',
            name: 'ETHDOWN',
            priceUSD: '0.69542628',
            symbol: 'ethdown',
            totalSupply: '0',
            weeklyPercentChangeUSD: '-21.89288557',
            decimals: '0',
            timestamp: 1635171660000,
          },
          {
            address: null,
            circulatingSupply: '0',
            dailyPercentChangeUSD: '-6.16285344',
            dailyVolumeUSD: '143342173430.1762126394',
            hourlyPercentChangeUSD: '0.40664400',
            marketCapUSD: '0.00000000',
            name: 'ETH3S',
            priceUSD: '0.00000323',
            symbol: 'eth3s',
            totalSupply: '0',
            weeklyPercentChangeUSD: '-27.57141767',
            decimals: '0',
            timestamp: 1635171660000,
          },
          {
            address: null,
            circulatingSupply: '0',
            dailyPercentChangeUSD: null,
            dailyVolumeUSD: '2.74122961',
            hourlyPercentChangeUSD: null,
            marketCapUSD: '0.00000000',
            name: 'Eth 2.0 Staking by Pool-X',
            priceUSD: '3969.20323100',
            symbol: 'eth2',
            totalSupply: '0',
            weeklyPercentChangeUSD: '8.36446601',
            decimals: '0',
            timestamp: 0,
          },
          {
            address: null,
            circulatingSupply: '0',
            dailyPercentChangeUSD: '3.97114520',
            dailyVolumeUSD: '70285.85',
            hourlyPercentChangeUSD: '-0.27625685',
            marketCapUSD: '0.00000000',
            name: 'ETHUP',
            priceUSD: '105.78828525',
            symbol: 'ethup',
            totalSupply: '0',
            weeklyPercentChangeUSD: '11.78514923',
            decimals: '0',
            timestamp: 1635171660000,
          },
          {
            address: '0x10e1e953ddba597011f8bfa806ab0cc3415a622b',
            circulatingSupply: '0',
            dailyPercentChangeUSD: null,
            dailyVolumeUSD: '8.57',
            hourlyPercentChangeUSD: null,
            marketCapUSD: '0.00000000',
            name: 'ETHHEDGE',
            priceUSD: '14.49400000',
            symbol: 'ETHHEDGE',
            totalSupply: '94',
            weeklyPercentChangeUSD: '-5.70521649',
            decimals: '0',
            timestamp: 1635166320000,
          },
          {
            address: '0x2f5e2c9002c058c063d21a06b6cabb50950130c8',
            circulatingSupply: '0',
            dailyPercentChangeUSD: '-11.09861111',
            dailyVolumeUSD: '246937622713.2395986845',
            hourlyPercentChangeUSD: '-5.88447063',
            marketCapUSD: '0.00000000',
            name: 'ETHBEAR',
            priceUSD: '0.00000008',
            symbol: 'ETHBEAR',
            totalSupply: '221',
            weeklyPercentChangeUSD: '-10.01498919',
            decimals: '0',
            timestamp: 1635171240000,
          },
        ],
      },
      [
        'Content-Type',
        'application/json; charset=utf-8',
        'Content-Length',
        '3775',
        'Connection',
        'close',
        'Date',
        'Mon, 25 Oct 2021 14:28:57 GMT',
        'x-amzn-RequestId',
        'cc8ca2e0-c2be-452e-9b44-d009c62700cc',
        'Access-Control-Allow-Origin',
        '*',
        'X-Response-Time',
        '0.432ms',
        'x-amzn-Remapped-Content-Length',
        '3775',
        'x-amzn-Remapped-Connection',
        'keep-alive',
        'Set-Cookie',
        'AWSALB=OqS+AZ+7u/HVzP8onsBUh6R7HlnmyG64s+WuP/v3EvKK3Ubu6U20OMajFexTX3PJZ6TVZsu6mgbSK9NkKz0sM6euyyEHAUxqc7byBRSOsdVuPTmNmo9gk+y3JRyC; Expires=Mon, 01 Nov 2021 14:28:57 GMT; Path=/',
        'Set-Cookie',
        'AWSALBCORS=OqS+AZ+7u/HVzP8onsBUh6R7HlnmyG64s+WuP/v3EvKK3Ubu6U20OMajFexTX3PJZ6TVZsu6mgbSK9NkKz0sM6euyyEHAUxqc7byBRSOsdVuPTmNmo9gk+y3JRyC; Expires=Mon, 01 Nov 2021 14:28:57 GMT; Path=/; SameSite=None; Secure',
        'x-amz-apigw-id',
        'HxLOjG7ZoAMFbdg=',
        'ETag',
        'W/"ebf-CKm6ZF4LZsMy/u5GjFTk9hHazRs"',
        'x-amzn-Remapped-Date',
        'Mon, 25 Oct 2021 14:28:57 GMT',
        'X-Cache',
        'Miss from cloudfront',
        'Via',
        '1.1 e7b7c1bf4679a281bf65ea41c2939274.cloudfront.net (CloudFront)',
        'X-Amz-Cf-Pop',
        'HIO50-C2',
        'X-Amz-Cf-Id',
        'EYy07P42wS23cDAEZYfI8fygGN9wyugzywHsYAYlHCWeuATuLLVM9Q==',
      ],
    )
}

export function mockVolumeEndpoint() {
  nock('https://web3api.io:443', { encodedQueryParams: true })
    .get('/api/v2/market/spot/prices/pairs/link_usd/historical')
    .query({ timeInterval: 'd', startDate: /.*/i, endDate: /.*/i, includeCrossRates: 'true' })
    .reply(
      200,
      {
        status: 200,
        title: 'OK',
        description: 'Successful request',
        payload: {
          metadata: { startDate: 1635085961606, endDate: 1635172361606 },
          data: [
            {
              timestamp: 1635120000000,
              pair: 'link_usd',
              price: '32.39881799',
              volume: '13804511.82541564',
            },
          ],
        },
      },
      [
        'Content-Type',
        'application/json; charset=utf-8',
        'Content-Length',
        '243',
        'Connection',
        'close',
        'Date',
        'Mon, 25 Oct 2021 14:32:43 GMT',
        'x-amzn-RequestId',
        'e8454f58-811a-49c4-a3c4-7698949fbd8d',
        'Access-Control-Allow-Origin',
        '*',
        'X-Response-Time',
        '750.754ms',
        'x-amzn-Remapped-Content-Length',
        '243',
        'x-amzn-Remapped-Connection',
        'keep-alive',
        'Set-Cookie',
        'AWSALB=L6BaX7lSwcOtXhCm7FSf9/JWXok6a0VhSvjc1rojTPFu8++D1vkd0OADbtwIjPzXbnub4pDWk3HEs7IsBHhPfTp7yFULDobKnbEwO0G6Q0CiwEd9o/d9K6HfOS28; Expires=Mon, 01 Nov 2021 14:32:42 GMT; Path=/',
        'Set-Cookie',
        'AWSALBCORS=L6BaX7lSwcOtXhCm7FSf9/JWXok6a0VhSvjc1rojTPFu8++D1vkd0OADbtwIjPzXbnub4pDWk3HEs7IsBHhPfTp7yFULDobKnbEwO0G6Q0CiwEd9o/d9K6HfOS28; Expires=Mon, 01 Nov 2021 14:32:42 GMT; Path=/; SameSite=None; Secure',
        'x-amz-apigw-id',
        'HxLxoHonIAMF6Jw=',
        'ETag',
        'W/"f3-y+eXBUof6yNlotPHdmWL6CZQL48"',
        'x-amzn-Remapped-Date',
        'Mon, 25 Oct 2021 14:32:43 GMT',
        'X-Cache',
        'Miss from cloudfront',
        'Via',
        '1.1 916b3636f0e5533b1181c2f24120881f.cloudfront.net (CloudFront)',
        'X-Amz-Cf-Pop',
        'HIO50-C2',
        'X-Amz-Cf-Id',
        'ujRt2GoTybgCSIg9GJvG7ZnHsS4-P0CBFOpFkO7-Ps2vABGYZExkQw==',
      ],
    )
}
